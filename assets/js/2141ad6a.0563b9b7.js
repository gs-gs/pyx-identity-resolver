"use strict";(self.webpackChunkdocumentation=self.webpackChunkdocumentation||[]).push([[5841],{8096:(e,i,n)=>{n.d(i,{Ay:()=>o,RM:()=>r});var t=n(4848),s=n(8453);const r=[];function a(e){const i={admonition:"admonition",p:"p",...(0,s.R)(),...e.components};return(0,t.jsx)(i.admonition,{type:"info",children:(0,t.jsx)(i.p,{children:"Please note that this content is under development and is not ready for implementation. This status message will be updated as content development progresses."})})}function o(e={}){const{wrapper:i}={...(0,s.R)(),...e.components};return i?(0,t.jsx)(i,{...e,children:(0,t.jsx)(a,{...e})}):a(e)}},2246:(e,i,n)=>{n.r(i),n.d(i,{assets:()=>l,contentTitle:()=>d,default:()=>p,frontMatter:()=>o,metadata:()=>t,toc:()=>c});const t=JSON.parse('{"id":"detailed-apis/index","title":"Detailed APIs","description":"Identifier","source":"@site/versioned_docs/version-1.0.0/detailed-apis/index.md","sourceDirName":"detailed-apis","slug":"/detailed-apis/","permalink":"/pyx-identity-resolver/docs/detailed-apis/","draft":false,"unlisted":false,"editUrl":"https://github.com/pyx-industries/pyx-identity-resolver/versioned_docs/version-1.0.0/detailed-apis/index.md","tags":[],"version":"1.0.0","sidebarPosition":4,"frontMatter":{"sidebar_position":4,"title":"Detailed APIs"},"sidebar":"tutorialSidebar","previous":{"title":"Installation","permalink":"/pyx-identity-resolver/docs/installation/"}}');var s=n(4848),r=n(8453),a=n(8096);const o={sidebar_position:4,title:"Detailed APIs"},d="Detailed APIs",l={},c=[...a.RM,{value:"Identifier",id:"identifier",level:2},{value:"Link Resolver",id:"link-resolver",level:2}];function h(e){const i={code:"code",h1:"h1",h2:"h2",header:"header",li:"li",ol:"ol",p:"p",pre:"pre",...(0,r.R)(),...e.components};return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(a.Ay,{}),"\n",(0,s.jsx)(i.header,{children:(0,s.jsx)(i.h1,{id:"detailed-apis",children:"Detailed APIs"})}),"\n",(0,s.jsx)(i.h1,{id:"data-model",children:"Data Model"}),"\n",(0,s.jsx)(i.h2,{id:"identifier",children:"Identifier"}),"\n",(0,s.jsx)(i.p,{children:"The identifier data model represents the identifier schemes registered within the identity resolver."}),"\n",(0,s.jsxs)(i.p,{children:["Each identifier scheme is represented by a single JSON object. We use a combination of environment variables and namespace to construct the key for the object: ",(0,s.jsx)(i.code,{children:"{OBJECT_STORAGE_BUCKET_NAME}/{IDENTIFIER_PATH}/{namespace}.json"}),"."]}),"\n",(0,s.jsx)(i.p,{children:"The identifier data model serves to:"}),"\n",(0,s.jsxs)(i.ol,{children:["\n",(0,s.jsx)(i.li,{children:"Validate link resolvers being registered with the identity resolver."}),"\n",(0,s.jsx)(i.li,{children:"Determine which identifier schemes can be resolved."}),"\n",(0,s.jsx)(i.li,{children:"Establish the link types that can be registered for an identifier scheme."}),"\n"]}),"\n",(0,s.jsx)(i.pre,{children:(0,s.jsx)(i.code,{className:"language-jsonc",children:'// idr-bucket/identifiers/gs1.json\n{\n  "id": "identifiers/gs1",\n  "namespace": "gs1",\n  "namespaceURI": "",\n  "namespaceProfile": "",\n  "applicationIdentifiers": [\n    {\n      "title": "Global Trade Item Number (GTIN)",\n      "label": "GTIN",\n      "shortcode": "gtin",\n      "ai": "01",\n      "type": "I",\n      "regex": "(\\\\d{12,14}|\\\\d{8})",\n      "qualifiers": ["10"]\n    },\n    {\n      "title": "Batch or lot number",\n      "label": "BATCH/LOT",\n      "shortcode": "lot",\n      "ai": "10",\n      "type": "Q",\n      "regex": "([\\\\x21-\\\\x22\\\\x25-\\\\x2F\\\\x30-\\\\x39\\\\x41-\\\\x5A\\\\x5F\\\\x61-\\\\x7A]{0,20})"\n    }\n  ]\n}\n'})}),"\n",(0,s.jsx)(i.h2,{id:"link-resolver",children:"Link Resolver"}),"\n",(0,s.jsx)(i.p,{children:"The Link Resolver data model represents the configuration for resolving a specific identifier to its associated links and metadata. It is used to store and manage resolution information for individual identifiers within the identity resolver system."}),"\n",(0,s.jsxs)(i.p,{children:["Each link resolver is represented by a single JSON object. We use a combination of parameters from the link registration request to construct the key for the object: ",(0,s.jsx)(i.code,{children:"{namespace}/{identificationKeyType > ai}/{identificationKey}/{qualifierPath ?? ''}.json"}),"."]}),"\n",(0,s.jsx)(i.p,{children:"The Link Resolver data model is used to:"}),"\n",(0,s.jsxs)(i.ol,{children:["\n",(0,s.jsx)(i.li,{children:"Store the link resolver configuration for a specific identifier."}),"\n",(0,s.jsx)(i.li,{children:"Store metadata for a specific identifier."}),"\n",(0,s.jsx)(i.li,{children:"Store responses (redirects) for a specific identifier."}),"\n",(0,s.jsx)(i.li,{children:"Store the link set for a specific identifier."}),"\n"]}),"\n",(0,s.jsx)(i.pre,{children:(0,s.jsx)(i.code,{className:"language-jsonc",children:'// gs1/01/12345678901234/10/123456789012345678902.json\n{\n  "id": "gs1/01/12345678901234/10/123456789012345678902.json",\n  "createdAt": "2024-09-02T06:19:58.783Z",\n  "linkset": {\n    "anchor": "http://localhost:3000/gs1/01/12345678901234/10/123456789012345678902",\n    "http://localhost:3000/voc/certificationInfo": [\n      {\n        "href": "https://example.com",\n        "title": "Certification Information",\n        "type": "application/json",\n        "hreflang": ["en"],\n        "title*": [{ "value": "Certification Information", "language": "en" }]\n      }\n    ]\n  },\n  "linkHeaderText": "<https://example.com>; rel=\\"gs1:certificationInfo\\"; type=\\"application/json\\"; hreflang=\\"en\\"; title=\\"Certification Information\\", <http://localhost:3000/gs1/01/12345678901234/10/123456789012345678902>; rel=\\"owl:sameAs\\"",\n  "namespace": "gs1",\n  "identificationKeyType": "gtin",\n  "identificationKey": "12345678901234",\n  "itemDescription": "Product description",\n  "qualifierPath": "/10/123456789012345678902",\n  "active": true,\n  "responses": [\n    {\n      "defaultLinkType": true,\n      "defaultMimeType": true,\n      "fwqs": false,\n      "active": true,\n      "linkType": "gs1:certificationInfo",\n      "title": "Certification Information",\n      "targetUrl": "https://example.com",\n      "mimeType": "application/json",\n      "ianaLanguage": "en",\n      "context": "au",\n      "defaultContext": true,\n      "defaultIanaLanguage": true\n    }\n  ]\n}\n'})}),"\n",(0,s.jsx)(i.p,{children:"This data model enables the identity resolver to store, retrieve, and manage link resolution information for various identifiers across different identifier schemes."})]})}function p(e={}){const{wrapper:i}={...(0,r.R)(),...e.components};return i?(0,s.jsx)(i,{...e,children:(0,s.jsx)(h,{...e})}):h(e)}}}]);